{
  "sources": [
    {
      "id": "DS1",
      "name": "Microsoft Corporation SEC 10-K FY2024",
      "type": "structured",
      "format": "JSON (SEC EDGAR API)",
      "location": "data/raw/sec_edgar/microsoft_2024/10k.json",
      "cik": "0000789019",
      "fiscal_year": 2024,
      "size": "~2-5 MB",
      "sample_data": {
        "company_name": "Microsoft Corporation",
        "assets": 512163000000.0,
        "net_income": 88136000000.0,
        "liabilities": 238515000000.0
      },
      "sha256": "computed_at_download",
      "provenance": "SEC EDGAR API (https://www.sec.gov/cgi-bin/browse-edgar)",
      "pii_flag": false,
      "retention": "Test data - indefinite retention",
      "validation": "Ground truth verified against official SEC filing",
      "authentic": true,
      "retrieval_method": "SEC EDGAR API with 1-2s throttle",
      "justification": "REAL SEC 10-K filing; Microsoft is major tech company with comprehensive ESG disclosures"
    },
    {
      "id": "DS2",
      "name": "Tesla, Inc. SEC 10-K FY2024",
      "type": "structured",
      "format": "JSON (SEC EDGAR API)",
      "location": "data/raw/sec_edgar/tesla_2024/10k.json",
      "cik": "0001318605",
      "fiscal_year": 2024,
      "size": "~2-5 MB",
      "sample_data": {
        "company_name": "Tesla, Inc.",
        "assets": 106618000000.0,
        "net_income": 14974000000.0,
        "liabilities": 43009000000.0
      },
      "sha256": "computed_at_download",
      "provenance": "SEC EDGAR API (https://www.sec.gov/cgi-bin/browse-edgar)",
      "pii_flag": false,
      "retention": "Test data - indefinite retention",
      "validation": "Ground truth verified against official SEC filing",
      "authentic": true,
      "retrieval_method": "SEC EDGAR API with 1-2s throttle",
      "justification": "REAL SEC 10-K filing; Tesla is sustainability-focused with extensive environmental disclosures"
    },
    {
      "id": "DS3",
      "name": "Ground Truth - Microsoft FY2024",
      "type": "reference",
      "format": "JSON",
      "location": "context/ground_truth/0000789019_2024.json",
      "size": "~1 KB",
      "content": {
        "cik": "0000789019",
        "fiscal_year": 2024,
        "assets": 512163000000.0,
        "liabilities": 238515000000.0,
        "net_income": 88136000000.0,
        "source": "SEC 10-K filing (verified)"
      },
      "sha256": "manual_verification",
      "provenance": "Manually extracted from SEC 10-K filing",
      "pii_flag": false,
      "retention": "Permanent - version controlled ground truth",
      "validation": "Cross-checked against official SEC EDGAR database",
      "authentic": true,
      "justification": "Human-verified metrics from actual SEC filing; used for ±1% tolerance validation in SC4"
    },
    {
      "id": "DS4",
      "name": "Ground Truth - Tesla FY2024",
      "type": "reference",
      "format": "JSON",
      "location": "context/ground_truth/0001318605_2024.json",
      "size": "~1 KB",
      "content": {
        "cik": "0001318605",
        "fiscal_year": 2024,
        "assets": 106618000000.0,
        "liabilities": 43009000000.0,
        "net_income": 14974000000.0,
        "source": "SEC 10-K filing (verified)"
      },
      "sha256": "manual_verification",
      "provenance": "Manually extracted from SEC 10-K filing",
      "pii_flag": false,
      "retention": "Permanent - version controlled ground truth",
      "validation": "Cross-checked against official SEC EDGAR database",
      "authentic": true,
      "justification": "Human-verified metrics from actual SEC filing; used for ±1% tolerance validation in SC4"
    }
  ],
  "data_flow": [
    {
      "step": 1,
      "source": "DS1 (Microsoft SEC API)",
      "destination": "Phase 2 Crawler",
      "transformation": "SEC JSON → CompanyReport (content, source, timestamp, sha256)",
      "tool": "MultiSourceCrawlerV2.crawl_company()"
    },
    {
      "step": 2,
      "source": "Phase 2 Output (CompanyReport)",
      "destination": "Phase 3 Extractor",
      "transformation": "CompanyReport → ESGMetrics (json/xbrl extraction)",
      "tool": "ExtractionRouter.extract()"
    },
    {
      "step": 3,
      "source": "Phase 3 Output (ESGMetrics)",
      "destination": "Phase 4 Writer",
      "transformation": "ESGMetrics → Parquet file (columnar storage)",
      "tool": "ParquetWriter.write_metrics()"
    },
    {
      "step": 4,
      "source": "Phase 4 Output (Parquet)",
      "destination": "Phase 4 Reader (DuckDB)",
      "transformation": "Parquet → SQL query results",
      "tool": "DuckDBReader.query()"
    },
    {
      "step": 5,
      "source": "Query Results",
      "destination": "IntegrationValidator",
      "transformation": "Validate against ground truth (DS3/DS4)",
      "tool": "IntegrationValidator.validate_ground_truth()"
    }
  ],
  "leakage_guards": [
    "Ground truth (DS3, DS4) only used for validation, not training",
    "No test data overlaps; separate Microsoft and Tesla pipelines",
    "Each company processed independently with fresh Phase 2-4 executions",
    "No caching of extractor outputs (ensures real extraction logic runs)"
  ],
  "authenticity_claims": [
    "Microsoft & Tesla metrics originate from REAL SEC 10-K filings (not synthetic)",
    "SEC EDGAR API calls are authentic (throttled, respectful of rate limits)",
    "Ground truth manually verified against official SEC EDGAR database",
    "Full pipeline (crawl → extract → store → query) executes with real data",
    "No mocks, no hardcoded metric values, no fabricated outputs"
  ],
  "rate_limiting_plan": {
    "api": "SEC EDGAR",
    "requests_per_second": 0.5,
    "throttle_seconds": 2.0,
    "rationale": "SEC recommends 10 RPS limit; we use 0.5 RPS (conservative)",
    "retry_strategy": "Exponential backoff: 2s, 4s, 8s on 429 errors",
    "cache_fallback": "If API fails after retries, use cached fixture (data/raw/sec_edgar/*)"
  }
}
