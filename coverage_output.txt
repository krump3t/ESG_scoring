============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\projects\Work Projects\north-sea-drilling-optimization\.venv\Scripts\python.exe
cachedir: .pytest_cache
hypothesis profile 'default'
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: C:\projects\Work Projects\ibm-projects\ESG Evaluation\prospecting-engine
configfile: pytest.ini
plugins: anyio-4.11.0, hypothesis-6.140.3, langsmith-0.4.31, asyncio-1.2.0, benchmark-5.1.0, cov-7.0.0, mock-3.15.1, timeout-2.4.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 300.0s
timeout method: thread
timeout func_only: False
collecting ... collected 1336 items / 20 deselected / 1 skipped / 1316 selected

tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_missing_finding_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_none_finding_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_empty_dict SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_calculate_overall_maturity_with_empty_scores SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_calculate_overall_maturity_with_invalid_score_type SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_tsp_with_non_string_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_osp_with_none_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_dm_with_bytes_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_match_patterns_with_invalid_pattern_list SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_extract_evidence_with_empty_pattern_list SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_tsp_handles_any_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_ghg_handles_any_text SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_dimension_score_with_out_of_range_score SKIPPED [  0%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_dimension_score_with_negative_score SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_dimension_score_with_invalid_confidence SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_various_invalid_types[invalid_input0] SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_various_invalid_types[123] SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_various_invalid_types[invalid_input2] SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_calculate_overall_maturity_with_missing_dimension SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_rd_with_unknown_framework SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_unicode_text SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_score_all_dimensions_with_very_long_text SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_match_patterns_with_none_text SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestRubricV3ScorerFailurePaths::test_extract_evidence_with_none_text SKIPPED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestDimensionScoreDataclass::test_dimension_score_requires_all_fields PASSED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestDimensionScoreDataclass::test_dimension_score_with_wrong_field_types PASSED [  1%]
tests/agents/scoring/test_rubric_v3_scorer_failure_paths.py::TestDimensionScoreDataclass::test_dimension_score_immutability PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_combined_company_and_theme_filter PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_limit_zero_returns_empty PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_limit_one_returns_single_doc PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_limit_large_value_handles_gracefully PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_strict_parameter_overrides_env_var PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_strict_env_var_true_raises_error PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_no_filters_returns_all_up_to_limit PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_nonexistent_company_returns_empty PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_nonexistent_theme_returns_empty PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_order_by_determinism_published_at_desc PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_missing_parquet_non_strict_returns_empty PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_property_limit_bounds PASSED [  2%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_duckdb_import_error_handling PASSED [  3%]
tests/analytics/test_prefilter_edge_cases_cp.py::TestPrefilterEdgeCases::test_runtime_error_on_invalid_parquet PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_happy_path_full_pipeline PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_semantic_enabled_full_run PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_semantic_disabled_lexical_only PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_metrics_endpoint_available PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_request_validation_alpha PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_request_validation_k PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_request_validation_semantic PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_with_default_year PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_score_with_explicit_year PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_health_endpoints_present PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_index_snapshot_loads PASSED [  3%]
tests/api/test_coverage_lift_cp.py::TestCoverageLift::test_companies_manifest_loads PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_companies_manifest_exists PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_bronze_parquets_exist PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_index_snapshot_exists PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_score_headlam_returns_200 PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_score_response_schema PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_trace_id_is_deterministic PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_testco_not_in_latest_manifest PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_semantic_parameter_accepted PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_alpha_parameter_accepted PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_k_parameter_range PASSED [  4%]
tests/api/test_demo_functional_cp.py::TestDemoFunctional::test_parity_artifact_created PASSED [  4%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_company_not_found_returns_404 PASSED [  4%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_invalid_alpha_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_invalid_k_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_invalid_semantic_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_missing_company_field_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_missing_query_field_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_empty_company_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_empty_query_returns_422 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_get_company_record_with_mismatched_year PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_get_company_record_with_nonexistent_company PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_score_response_structure_on_200 PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_score_with_year_2100_boundary PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_score_with_year_2000_boundary PASSED [  5%]
tests/api/test_error_paths_cp.py::TestErrorPaths::test_score_with_year_outside_range PASSED [  5%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_health_endpoint_returns_200 PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_health_endpoint_includes_service_name PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_health_endpoint_includes_timestamp PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_readiness_endpoint_returns_200 PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_readiness_endpoint_schema PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_liveness_endpoint_returns_200 PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_liveness_endpoint_schema PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_health_endpoints_are_stateless PASSED [  6%]
tests/api/test_health_cp.py::TestHealthEndpoints::test_health_endpoints_not_in_scoring_routes PASSED [  6%]
tests/api/test_health_cp.py::TestHealthFailurePaths::test_health_get_only PASSED [  6%]
tests/api/test_health_cp.py::TestHealthFailurePaths::test_ready_get_only PASSED [  6%]
tests/api/test_health_cp.py::TestHealthFailurePaths::test_live_get_only PASSED [  6%]
tests/api/test_health_cp.py::TestHealthFailurePaths::test_health_query_params_ignored PASSED [  6%]
tests/api/test_health_cp.py::TestHealthFailurePaths::test_invalid_paths_return_404 PASSED [  6%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_api_requests_counter_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_api_requests_counter_has_required_labels PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_semantic_knn_latency_histogram_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_fusion_latency_histogram_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_score_latency_histogram_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_vector_index_size_gauge_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_semantic_enabled_counter_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestPrometheusMetricsDefinition::test_build_info_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestMetricsEndpoint::test_metrics_endpoint_exists PASSED [  7%]
tests/api/test_metrics_cp.py::TestMetricsEndpoint::test_metrics_endpoint_returns_prometheus_format PASSED [  7%]
tests/api/test_metrics_cp.py::TestMetricsEndpoint::test_metrics_endpoint_includes_esg_metrics PASSED [  7%]
tests/api/test_metrics_cp.py::TestMetricsInstrumentation::test_api_request_counter_increments_on_score_call PASSED [  7%]
tests/api/test_metrics_cp.py::TestMetricsInstrumentation::test_histogram_records_nonzero_duration PASSED [  7%]
tests/api/test_metrics_cp.py::TestMetricsInstrumentation::test_gauge_can_be_set_and_read PASSED [  8%]
tests/api/test_metrics_cp.py::TestMetricsFailurePaths::test_missing_label_raises_error PASSED [  8%]
tests/api/test_metrics_cp.py::TestMetricsFailurePaths::test_invalid_histogram_duration_does_not_raise PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestOpenTelemetryIntegration::test_telemetry_setup_creates_tracer_provider FAILED [  8%]
tests/api/test_runtime_phase11_cp.py::TestOpenTelemetryIntegration::test_instrument_fastapi_adds_instrumentation FAILED [  8%]
tests/api/test_runtime_phase11_cp.py::TestOpenTelemetryIntegration::test_telemetry_middleware_adds_trace_headers FAILED [  8%]
tests/api/test_runtime_phase11_cp.py::TestOpenTelemetryIntegration::test_trace_id_format_validation PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestOpenTelemetryIntegration::test_span_id_format_validation PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestOpenTelemetryIntegration::test_traceparent_propagation PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestStructuredLogging::test_setup_json_logging_creates_logger PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestStructuredLogging::test_json_formatter_outputs_valid_json PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestStructuredLogging::test_json_log_includes_timestamp PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestStructuredLogging::test_json_log_includes_level PASSED [  8%]
tests/api/test_runtime_phase11_cp.py::TestStructuredLogging::test_logging_middleware_adds_request_id FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestStructuredLogging::test_logging_middleware_accepts_custom_request_id FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestRuntimeEndpointsWithObservability::test_health_endpoint_with_tracing FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestRuntimeEndpointsWithObservability::test_ready_endpoint_with_tracing FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestRuntimeEndpointsWithObservability::test_metrics_endpoint_with_tracing FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestRuntimeEndpointsWithObservability::test_multiple_requests_have_different_request_ids FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestObservabilityFailurePaths::test_telemetry_middleware_handles_exceptions FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestObservabilityFailurePaths::test_logging_middleware_handles_errors FAILED [  9%]
tests/api/test_runtime_phase11_cp.py::TestObservabilityFailurePaths::test_middleware_handles_missing_traceparent FAILED [  9%]
tests/api/test_score_api_contract_cp.py::TestScoreAPIContract::test_score_endpoint_exists PASSED [  9%]
tests/api/test_score_api_contract_cp.py::TestScoreAPIContract::test_health_endpoint_returns_200 PASSED [  9%]
tests/api/test_score_api_contract_cp.py::TestScoreAPIContract::test_metrics_endpoint_returns_200 PASSED [  9%]
tests/api/test_score_api_contract_cp.py::TestScoreAPIContract::test_score_response_schema PASSED [  9%]
tests/api/test_score_api_contract_cp.py::TestScoreAPIContract::test_deterministic_trace_id PASSED [ 10%]
tests/api/test_score_api_contract_cp.py::TestScoreAPIContract::test_missing_required_fields_returns_422 PASSED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPISemanticToggle::test_semantic_disabled_uses_lexical_ce_only FAILED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPISemanticToggle::test_semantic_enabled_uses_fusion_pipeline FAILED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPISemanticToggle::test_trace_id_deterministic_regardless_of_semantic_flag PASSED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPISemanticToggle::test_invalid_year_returns_422 PASSED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPISemanticToggle::test_missing_required_fields_returns_422 PASSED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPISemanticToggle::test_empty_query_returns_422 PASSED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPIResponseSchema::test_response_includes_all_required_fields PASSED [ 10%]
tests/api/test_score_api_semantic_cp.py::TestScoreAPIResponseSchema::test_scores_array_has_valid_structure PASSED [ 10%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_alpha_below_zero_returns_422 PASSED [ 10%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_alpha_above_one_returns_422 PASSED [ 10%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_k_zero_returns_422 PASSED [ 10%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_k_negative_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_k_exceeds_max_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_semantic_invalid_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_missing_company_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_missing_query_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_empty_company_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_empty_query_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_invalid_year_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_year_too_far_future_returns_422 PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreParameterBounds::test_valid_parameters_reach_endpoint PASSED [ 11%]
tests/api/test_score_bounds_cp.py::TestScoreUnknownCompany::test_unknown_company_returns_404 PASSED [ 11%]
tests/api/test_score_demo_contract_cp.py::TestScoreDemoContract::test_score_returns_required_schema_fields PASSED [ 11%]
tests/api/test_score_demo_contract_cp.py::TestScoreDemoContract::test_unknown_company_returns_404 PASSED [ 11%]
tests/api/test_score_demo_contract_cp.py::TestScoreDemoContract::test_malformed_body_returns_422 PASSED [ 12%]
tests/api/test_score_demo_contract_cp.py::TestScoreDemoContract::test_deterministic_trace_id_three_runs PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_now_returns_datetime PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_time_returns_float PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_fixed_time_env_var_produces_fixed_datetime PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_fixed_time_env_var_produces_fixed_time_float PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_multiple_get_clock_calls_return_same_instance PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_set_clock_replaces_global_clock PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_now_returns_utc_timezone_aware_datetime PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_fixed_time_env_var_multiple_reads_identical PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_with_property_based_fixed_time PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_failure_path_invalid_fixed_time_value PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_without_fixed_time_returns_reasonable_datetime PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_fixed_time_to_real_time_transition PASSED [ 12%]
tests/authenticity/test_clock_cp.py::TestClockCP::test_clock_fixed_time_change PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_client_abc_has_get_method PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_client_abc_has_post_method PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_mock_http_client_returns_fixture_response PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_mock_http_client_handles_missing_fixture PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_mock_http_client_post_with_json_data PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_real_http_client_singleton PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_client_dependency_injection PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_mock_http_client_fixtures_dictionary_structure PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_mock_http_client_accepts_any_fixture_key PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_client_no_live_network_calls_in_tests PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_response_object_has_status_code PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_response_object_has_json_method PASSED [ 13%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_mock_http_client_post_failure_missing_url PASSED [ 14%]
tests/authenticity/test_http_cp.py::TestHTTPClientCP::test_http_response_with_empty_data PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetRetrieverInitialization::test_parquet_retriever_loads_real_file PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetRetrieverInitialization::test_parquet_retriever_fails_on_missing_file PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetRetrieverInitialization::test_parquet_retriever_detects_non_file PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetCorpusIntegrity::test_corpus_has_required_fields PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetCorpusIntegrity::test_corpus_records_are_non_empty PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetCorpusIntegrity::test_corpus_sha256_field_populated PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestParquetCorpusIntegrity::test_corpus_id_field_unique PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestDeterministicRetrieval::test_retrieve_by_company_deterministic_ordering PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestDeterministicRetrieval::test_retrieve_by_keyword_deterministic_ordering PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestDeterministicRetrieval::test_retrieve_all_deterministic_ordering PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestCorpusStatistics::test_corpus_stats_returns_valid_structure PASSED [ 14%]
tests/authenticity/test_parquet_retriever.py::TestCorpusStatistics::test_corpus_stats_totals_match PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestRetrievalErrorHandling::test_retrieve_by_company_unknown_company_fails PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestRetrievalErrorHandling::test_retrieve_by_company_invalid_top_k_fails PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestRetrievalErrorHandling::test_retrieve_by_keyword_empty_keyword_fails PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestRetrievalErrorHandling::test_retrieve_all_unknown_filters_fails PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestRealDataProvenance::test_corpus_contains_documents_from_real_files PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestRealDataProvenance::test_corpus_has_non_generic_text_content PASSED [ 15%]
tests/authenticity/test_parquet_retriever.py::TestStrictModeEnforcement::test_strict_mode_requires_real_parquet PASSED [ 15%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_initialization PASSED [ 15%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_process_single_company_with_cached_filing PASSED [ 15%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_process_multiple_companies PASSED [ 15%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_writes_to_bronze PASSED [ 15%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_normalizes_to_silver PASSED [ 15%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_handles_missing_filing PASSED [ 16%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_handles_malformed_html PASSED [ 16%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_tracks_progress PASSED [ 16%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_provides_summary_statistics PASSED [ 16%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_generates_unique_batch_ids PASSED [ 16%]
tests/batch/test_batch_processor.py::TestBatchProcessor::test_batch_processor_end_to_end_query PASSED [ 16%]
tests/batch/test_batch_processor.py::TestBatchProcessingResult::test_batch_processing_result_creation PASSED [ 16%]
tests/batch/test_batch_processor.py::TestCompanyProcessingResult::test_company_processing_result_creation PASSED [ 16%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_initialization PASSED [ 16%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_connection_failure_raises_error PASSED [ 16%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_invalid_port_raises_error PASSED [ 16%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_set_and_get PASSED [ 16%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_get_missing_key_returns_none PASSED [ 16%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_ttl_expiration PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_delete_existing_key PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_delete_missing_key PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_clear PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_empty_key_raises_error PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_invalid_ttl_raises_error PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_hit_ratio_benchmark PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_get_or_compute PASSED [ 17%]
tests/cache/test_real_redis_cache_cp.py::test_real_redis_cache_set_get_property PASSED [ 17%]
tests/cache/test_redis_cache.py::test_redis_cache_ttl_invariant PASSED   [ 17%]
tests/cache/test_redis_cache.py::test_redis_cache_key_generation_invariant PASSED [ 17%]
tests/cache/test_redis_cache.py::test_redis_cache_hit_ratio_invariant PASSED [ 17%]
tests/cache/test_redis_cache.py::test_redis_cache_empty_key_fails PASSED [ 17%]
tests/cache/test_redis_cache.py::test_redis_cache_invalid_ttl_fails PASSED [ 18%]
tests/cache/test_redis_cache.py::test_redis_cache_connection_failure_fails PASSED [ 18%]
tests/cache/test_redis_cache.py::test_redis_cache_get_or_compute_hit PASSED [ 18%]
tests/cache/test_redis_cache.py::test_redis_cache_ttl_expiration PASSED  [ 18%]
tests/cache/test_redis_cache.py::test_redis_cache_lru_eviction PASSED    [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_accepts_valid_priority_score PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_defaults_priority_score_to_100 PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_validates_tier_range PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_is_immutable PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_json_serialization PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_rejects_negative_priority_score PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_rejects_priority_score_above_100 PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_rejects_non_integer_priority_score PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_requires_provider_field PASSED [ 18%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_requires_content_type_field PASSED [ 19%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_accepts_all_valid_priority_scores PASSED [ 19%]
tests/contracts/test_source_ref_phase2.py::test_source_ref_rejects_all_invalid_priority_scores PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_select_all_real_apple PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_where_filter_assets PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_group_by_aggregate PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_get_latest_metrics_real_apple PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_get_companies_summary PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_with_null_filtering PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_raises_error_for_missing_file PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_get_latest_metrics_returns_none_for_unknown_company PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_raises_error_for_invalid_sql PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_where_filter_property_based PASSED [ 19%]
tests/data_lake/test_duckdb_reader_phase4.py::test_end_to_end_write_query_pipeline PASSED [ 20%]
tests/data_lake/test_duckdb_reader_phase4.py::test_connection_reuse PASSED [ 20%]
tests/data_lake/test_duckdb_reader_phase4.py::test_query_order_by_sorting PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_write_single_metrics_real_apple PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_write_batch_metrics_three_companies PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_append_metrics_to_existing_file PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_datetime_microsecond_precision PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_null_handling_optional_fields PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_get_row_count PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_write_metrics_raises_error_for_empty_list PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_append_metrics_raises_error_for_empty_list PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_get_row_count_raises_error_for_missing_file PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_write_metrics_property_based PASSED [ 20%]
tests/data_lake/test_parquet_writer_phase4.py::test_append_creates_new_file_if_not_exists PASSED [ 21%]
tests/data_lake/test_parquet_writer_phase4.py::test_write_metrics_overwrites_existing_file PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp.py::TestDemoFlowCoverage::test_demo_alpha_fusion_and_parity_artifact PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp.py::TestDemoFlowCoverage::test_demo_k1_lexical_path PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp.py::TestDemoFlowCoverage::test_demo_semantic_enabled_triggers_index_lookup PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp.py::TestDemoFlowCoverage::test_demo_alpha_boundary_values PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp.py::TestDemoFlowCoverage::test_demo_deterministic_scoring_consistency PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp.py::TestDemoFlowCoverage::test_demo_evidence_extraction PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowAlphaEdgeCases::test_alpha_zero_pure_lexical PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowAlphaEdgeCases::test_alpha_one_pure_semantic PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowKBranching::test_k_equals_1_minimal_fusion PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowKBranching::test_k_gt_1_fusion PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowParityArtifact::test_parity_artifact_written_and_valid PASSED [ 21%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowParityArtifact::test_parity_artifact_overwritten_on_second_run PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowErrorPaths::test_year_out_of_supported_range_returns_422 PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowErrorPaths::test_invalid_company_name_returns_404 PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_extra.py::TestDemoFlowErrorPaths::test_empty_query_returns_422 PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_finalize.py::TestDemoFlowSemanticToggle::test_semantic_toggle_off_uses_lexical_ce_only PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_finalize.py::TestDemoFlowBackendGuards::test_backend_guard_in_memory_selected_by_default PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_finalize.py::TestDemoFlowGracefulFallbacks::test_missing_index_snapshot_graceful_rebuild_or_fallback PASSED [ 22%]
tests/demo/test_demo_flow_coverage_cp_finalize.py::TestDemoFlowGracefulFallbacks::test_empty_evidence_fallback_does_not_raise PASSED [ 22%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowHappyPath::test_ingest_pdf_to_parquet FAILED [ 22%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowHappyPath::test_embed_deterministic_mode XFAIL [ 22%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowHappyPath::test_end_to_end_determinism_three_runs FAILED [ 22%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowParity::test_evidence_subset_of_fused_top5 FAILED [ 22%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowFailurePaths::test_missing_pdf_raises_error FAILED [ 22%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowFailurePaths::test_empty_corpus_returns_stage_zero FAILED [ 23%]
tests/demo/test_demo_flow_cp.py::TestDemoFlowFailurePaths::test_invalid_year_raises_error XFAIL [ 23%]
tests/demo/test_demo_flow_cp_edge_branches.py::test_ensure_ingested_rare_path_reinvocation PASSED [ 23%]
tests/demo/test_demo_flow_cp_edge_branches.py::test_mode_validation_guard_hits PASSED [ 23%]
tests/demo/test_demo_flow_cp_edge_branches.py::test_alpha_fusion_edge_equal_scores_branches PASSED [ 23%]
tests/demo/test_demo_flow_cp_edge_branches.py::test_parity_artifact_degenerate_then_normalize PASSED [ 23%]
tests/demo/test_demo_flow_cp_edge_branches.py::test_alpha_bounds_zero_and_one_cover_remaining_edges PASSED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_semantic_toggle_off_lexical_ce_only PASSED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_alpha_zero_and_one_edges PASSED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_k_paths_branching PASSED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_missing_index_snapshot_fallback PASSED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_parity_artifact_overwrite PASSED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_empty_corpus_guard FAILED [ 23%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_invalid_company_returns_404 PASSED [ 24%]
tests/demo/test_demo_flow_cp_sonnet_finalize.py::test_invalid_year_returns_422 PASSED [ 24%]
tests/e2e/test_lse_healthcare_e2e.py::TestLSEHealthcareE2EPipeline::test_pdf_extraction_authentic FAILED [ 24%]
tests/e2e/test_lse_healthcare_e2e.py::TestLSEHealthcareE2EPipeline::test_evidence_extraction_authentic PASSED [ 24%]
tests/e2e/test_lse_healthcare_e2e.py::TestLSEHealthcareE2EPipeline::test_end_to_end_evidence_table_generation FAILED [ 24%]
tests/e2e/test_lse_healthcare_e2e.py::TestLSEHealthcareE2EPipeline::test_evidence_table_determinism FAILED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_create_embedder PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_embed_text_returns_vector PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_embed_batch_returns_list PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_embed_text_validation_empty_string PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_embed_text_validation_whitespace_only PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_embed_batch_validation_empty_list PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderBasic::test_api_error_handling PASSED [ 24%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderIntegration::test_embed_characteristic_description PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderIntegration::test_batch_embed_evidence_extracts PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderIntegration::test_batch_embedding_property PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderCaching::test_cache_stores_embeddings PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderCaching::test_cache_different_texts PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderConfiguration::test_custom_model_id PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderConfiguration::test_custom_embedding_dimension PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderConfiguration::test_api_client_initialization PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderConfiguration::test_environment_variable_loading PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderConfiguration::test_clear_cache_operation PASSED [ 25%]
tests/embedding/test_watsonx_embedder.py::TestWatsonxEmbedderConfiguration::test_get_cache_size PASSED [ 25%]
tests/extraction/test_extraction_contracts.py::test_extraction_quality_valid_ranges PASSED [ 25%]
tests/extraction/test_extraction_contracts.py::test_extraction_quality_overall_score PASSED [ 25%]
tests/extraction/test_extraction_contracts.py::test_extraction_quality_rejects_invalid_field_completeness PASSED [ 25%]
tests/extraction/test_extraction_contracts.py::test_extraction_quality_rejects_invalid_type_correctness PASSED [ 26%]
tests/extraction/test_extraction_contracts.py::test_extraction_quality_rejects_invalid_value_validity PASSED [ 26%]
tests/extraction/test_extraction_contracts.py::test_extraction_error_valid_severity PASSED [ 26%]
tests/extraction/test_extraction_contracts.py::test_extraction_error_rejects_invalid_severity PASSED [ 26%]
tests/extraction/test_extraction_contracts.py::test_extraction_result_is_success PASSED [ 26%]
tests/extraction/test_extraction_contracts.py::test_extraction_result_has_errors PASSED [ 26%]
tests/extraction/test_extraction_contracts.py::test_extraction_result_error_severity_counts PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_router_dispatches_json_to_structured_extractor PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_router_identifies_structured_content_types PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_router_identifies_unstructured_content_types PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_router_handles_pdf_gracefully_when_llm_not_implemented PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_router_raises_error_for_unsupported_content_type PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_router_get_extractor_type_returns_unsupported PASSED [ 26%]
tests/extraction/test_extraction_router_phase3.py::test_all_structured_types_route_correctly PASSED [ 27%]
tests/extraction/test_extraction_router_phase3.py::test_all_unstructured_types_route_correctly PASSED [ 27%]
tests/extraction/test_extraction_router_phase3.py::test_router_end_to_end_with_real_sec_data PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_text_from_real_apple_pdf PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_text_returns_expected_length PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_text_preserves_page_breaks PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_get_page_count_from_real_pdf PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_page_from_real_pdf PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_page_12_contains_emissions_data PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_text_raises_error_for_nonexistent_file PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_page_raises_error_for_invalid_page_number PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_page_raises_error_for_negative_page_number PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_page_returns_text_for_valid_pages PASSED [ 27%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_text_handles_special_characters PASSED [ 28%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_pdf_extractor_min_text_length_configurable PASSED [ 28%]
tests/extraction/test_pdf_text_extractor_phase3b.py::test_extract_text_from_first_10_pages_only PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extract_real_apple_sec_edgar_data PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extraction_creates_parquet_compatible_output PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_quality_metrics_calculation PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_maps_sec_edgar_assets_to_esg_metrics_assets PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_maps_sec_edgar_net_income_to_esg_metrics PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_handles_missing_optional_fields_gracefully PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extraction_fails_gracefully_for_missing_file PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extraction_handles_malformed_json PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extraction_handles_invalid_sec_edgar_schema PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extraction_handles_empty_json_file PASSED [ 28%]
tests/extraction/test_structured_extractor_phase3.py::test_extraction_accepts_any_valid_fiscal_year PASSED [ 29%]
tests/extraction/test_structured_extractor_phase3.py::test_parquet_round_trip_preserves_data PASSED [ 29%]
tests/infrastructure/test_cloud_connectivity.py::test_watsonx_ai_sdk_available 2025-10-26 23:45:25 [INFO] [PASS] tests/infrastructure/test_cloud_connectivity.py::test_watsonx_ai_sdk_available [passed]
PASSED [ 29%]
tests/infrastructure/test_cloud_connectivity.py::test_ngrok_public_url_accessible 2025-10-26 23:45:29 [INFO] [SKIP] tests/infrastructure/test_cloud_connectivity.py::test_ngrok_public_url_accessible [skipped]
SKIPPED [ 29%]
tests/infrastructure/test_cloud_connectivity.py::test_authentic_cloud_summary 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_cloud_connectivity.py::test_authentic_cloud_summary [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_properly_pinned_requirements_pass 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_properly_pinned_requirements_pass [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_unpinned_dependency_fails 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_unpinned_dependency_fails [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_wildcard_version_fails 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_wildcard_version_fails [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_minimum_version_spec_fails 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_minimum_version_spec_fails [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_allowed_exceptions_pip_setuptools_wheel 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_allowed_exceptions_pip_setuptools_wheel [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_comments_and_empty_lines_ignored 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_comments_and_empty_lines_ignored [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_missing_requirements_file_fails 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_missing_requirements_file_fails [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_exact_pin 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_exact_pin [passed]
PASSED [ 29%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_minimum_version 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_minimum_version [passed]
PASSED [ 30%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_unpinned 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_unpinned [passed]
PASSED [ 30%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_comment 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_comment [passed]
PASSED [ 30%]
tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_empty 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_dependency_lock_cp.py::TestDependencyLockGate::test_parse_requirement_line_empty [passed]
PASSED [ 30%]
tests/infrastructure/test_docker_services.py::test_ibm_watsonx_ai_import 2025-10-26 23:45:29 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_ibm_watsonx_ai_import [passed]
PASSED [ 30%]
tests/infrastructure/test_docker_services.py::test_cassandra_driver_import 2025-10-26 23:45:30 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_cassandra_driver_import [passed]
PASSED [ 30%]
tests/infrastructure/test_docker_services.py::test_duckdb_import 2025-10-26 23:45:30 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_duckdb_import [passed]
PASSED  [ 30%]
tests/infrastructure/test_docker_services.py::test_airflow_import 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_airflow_import [passed]
PASSED [ 30%]
tests/infrastructure/test_docker_services.py::test_pyngrok_import 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_pyngrok_import [passed]
PASSED [ 30%]
tests/infrastructure/test_docker_services.py::test_redis_import 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_redis_import [passed]
PASSED   [ 30%]
tests/infrastructure/test_docker_services.py::test_postgres_connection 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_postgres_connection [passed]
PASSED [ 30%]
tests/infrastructure/test_docker_services.py::test_redis_ping 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_redis_ping [passed]
PASSED     [ 30%]
tests/infrastructure/test_docker_services.py::test_minio_s3_api 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_minio_s3_api [passed]
PASSED   [ 30%]
tests/infrastructure/test_docker_services.py::test_iceberg_rest_catalog 2025-10-26 23:45:31 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_iceberg_rest_catalog [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_trino_query_engine 2025-10-26 23:45:36 [INFO] [FAIL] tests/infrastructure/test_docker_services.py::test_trino_query_engine [failed]
FAILED [ 31%]
tests/infrastructure/test_docker_services.py::test_airflow_webserver_ui 2025-10-26 23:45:40 [INFO] [FAIL] tests/infrastructure/test_docker_services.py::test_airflow_webserver_ui [failed]
FAILED [ 31%]
tests/infrastructure/test_docker_services.py::test_airflow_scheduler_running 2025-10-26 23:45:40 [INFO] [FAIL] tests/infrastructure/test_docker_services.py::test_airflow_scheduler_running [failed]
FAILED [ 31%]
tests/infrastructure/test_docker_services.py::test_mcp_server_health 2025-10-26 23:45:40 [INFO] [FAIL] tests/infrastructure/test_docker_services.py::test_mcp_server_health [failed]
FAILED [ 31%]
tests/infrastructure/test_docker_services.py::test_ngrok_tunnel_active 2025-10-26 23:45:45 [INFO] [FAIL] tests/infrastructure/test_docker_services.py::test_ngrok_tunnel_active [failed]
FAILED [ 31%]
tests/infrastructure/test_docker_services.py::test_mcp_to_redis_network 2025-10-26 23:45:45 [INFO] [FAIL] tests/infrastructure/test_docker_services.py::test_mcp_to_redis_network [failed]
FAILED [ 31%]
tests/infrastructure/test_docker_services.py::test_mcp_to_postgres_network 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_mcp_to_postgres_network [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_env_vars_loaded 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_env_vars_loaded [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_docker_volumes_created 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_docker_volumes_created [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_docker_compose_invalid_config_fails 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_docker_compose_invalid_config_fails [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_missing_env_file_raises_error 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_missing_env_file_raises_error [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_port_conflict_detection 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_port_conflict_detection [passed]
PASSED [ 31%]
tests/infrastructure/test_docker_services.py::test_summary 2025-10-26 23:45:45 [INFO] [PASS] tests/infrastructure/test_docker_services.py::test_summary [passed]
PASSED        [ 31%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_ingestion_ledger_with_real_data PASSED [ 32%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_rubric_scorer_with_realistic_evidence PASSED [ 32%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_parity_with_realistic_fusion PASSED [ 32%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_full_pipeline_determinism PASSED [ 32%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_trace_endpoint_response_schema PASSED [ 32%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_five_gates_integrated PASSED [ 32%]
tests/integration/test_ar001_e2e_pipeline.py::TestAR001E2EIntegration::test_evidence_contract_end_to_end PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_validate_inputs_valid PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_validate_inputs_empty_query PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_validate_inputs_empty_companies PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_validate_inputs_single_company PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_validate_inputs_unknown_company PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_generate_narrative_basic PASSED [ 32%]
tests/integration/test_compare_esg_analysis.py::test_generate_comparative_report_valid PASSED [ 33%]
tests/integration/test_compare_esg_analysis.py::test_generate_comparative_report_invalid_query PASSED [ 33%]
tests/integration/test_compare_esg_analysis.py::test_generate_comparative_report_insufficient_companies PASSED [ 33%]
tests/integration/test_compare_esg_analysis.py::test_compare_valid PASSED [ 33%]
tests/integration/test_compare_esg_analysis.py::test_compare_empty_companies PASSED [ 33%]
tests/integration/test_compare_esg_analysis.py::test_property_narrative_generation PASSED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestEvidenceStoragePipeline::test_end_to_end_pipeline_extracts_stores_and_queries SKIPPED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestEvidenceStoragePipeline::test_pipeline_with_duplicate_evidence_deduplicates_in_silver SKIPPED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestEvidenceStoragePipeline::test_pipeline_preserves_evidence_fields_end_to_end SKIPPED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestEvidenceStoragePipeline::test_pipeline_applies_freshness_penalties_in_silver SKIPPED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestEvidenceStoragePipeline::test_pipeline_with_multiple_companies_and_themes SKIPPED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestEvidenceStoragePipeline::test_pipeline_handles_empty_extraction_gracefully SKIPPED [ 33%]
tests/integration/test_evidence_storage_pipeline.py::TestPipelinePerformance::test_pipeline_performance_with_100_evidence_items PASSED [ 33%]
tests/integration/test_integration_flags_cp.py::TestIntegrationFlagsLoading::test_load_flags_from_valid_json PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestIntegrationFlagsLoading::test_load_flags_missing_file_returns_defaults PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestIntegrationFlagsLoading::test_load_flags_invalid_json_raises_error PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestIntegrationFlagsLoading::test_load_flags_missing_required_keys_raises_error PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestSemanticFlagRouting::test_semantic_enabled_true_routes_to_fusion PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestSemanticFlagRouting::test_semantic_enabled_false_routes_to_lexical_ce PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestWatsonxFlagRouting::test_watsonx_enabled_false_uses_deterministic_embedder PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestWatsonxFlagRouting::test_watsonx_enabled_true_requires_network PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestAstraDBFlagRouting::test_astradb_enabled_false_uses_in_memory_backend PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestAstraDBFlagRouting::test_astradb_enabled_true_requires_network PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestFlagCombinations::test_all_disabled_is_valid PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestFlagCombinations::test_semantic_disabled_ignores_watsonx_astradb PASSED [ 34%]
tests/integration/test_integration_flags_cp.py::TestFlagCombinations::test_deterministic_mode_combination PASSED [ 34%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_real_cross_encoder_and_redis PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_latency_benchmark PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_redis_cache_hit_ratio PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_determinism PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_ranking_quality PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_failure_path_invalid_companies PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_failure_path_empty_query PASSED [ 35%]
tests/integration/test_phase5_e2e_real_components_cp.py::test_phase5_e2e_failure_path_single_company PASSED [ 35%]
tests/integration/test_watsonx_integration.py::test_embedding_dimensionality_invariant SKIPPED [ 35%]
tests/integration/test_watsonx_integration.py::test_granite_consistency_invariant SKIPPED [ 35%]
tests/integration/test_watsonx_integration.py::test_document_extraction_quality PASSED [ 35%]
tests/integration/test_watsonx_integration.py::test_document_metadata_tracking PASSED [ 35%]
tests/integration/test_watsonx_integration.py::test_invalid_document_handling SKIPPED [ 35%]
tests/integration/test_watsonx_integration.py::test_similarity_search_top_k_invariant SKIPPED [ 36%]
tests/integration/test_watsonx_integration.py::test_astradb_connection_failure SKIPPED [ 36%]
tests/integration/test_watsonx_integration.py::test_rag_response_specificity_invariant SKIPPED [ 36%]
tests/integration/test_watsonx_integration.py::test_rag_pipeline_no_results SKIPPED [ 36%]
tests/integration/test_watsonx_integration.py::test_watsonx_phase2_summary PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_rag_response_query_invariant PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_embedder_config_dimension_invariant PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_watsonx_client_config_invariant PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_astradb_config_dimension_invariant PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_vector_search_metric_invariant PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_llm_temperature_invariant PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_rag_pipeline_empty_query_fails PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_embedder_invalid_config_fails PASSED [ 36%]
tests/integration/test_watsonx_integration.py::test_vector_store_empty_documents_fails PASSED [ 37%]
tests/metrics/test_demo_metrics_cp.py::TestDemoMetricsDefinition::test_demo_ingest_counter_exists XPASS [ 37%]
tests/metrics/test_demo_metrics_cp.py::TestDemoMetricsDefinition::test_demo_index_size_gauge_exists XPASS [ 37%]
tests/metrics/test_demo_metrics_cp.py::TestDemoMetricsDefinition::test_demo_score_latency_histogram_exists XPASS [ 37%]
tests/metrics/test_demo_metrics_cp.py::TestDemoMetricsDefinition::test_parity_break_counter_exists XPASS [ 37%]
tests/metrics/test_demo_metrics_cp.py::TestDemoMetricsEndpoint::test_metrics_includes_demo_metrics XPASS [ 37%]
tests/models/test_esg_metrics.py::test_to_parquet_dict_with_report_date PASSED [ 37%]
tests/models/test_esg_metrics.py::test_to_parquet_dict_without_report_date PASSED [ 37%]
tests/models/test_esg_metrics.py::test_from_parquet_dict_with_report_date PASSED [ 37%]
tests/models/test_esg_metrics.py::test_from_parquet_dict_without_report_date PASSED [ 37%]
tests/models/test_esg_metrics.py::test_parquet_round_trip_with_all_dates PASSED [ 37%]
tests/models/test_esg_metrics.py::test_parquet_round_trip_with_no_dates PASSED [ 37%]
tests/models/test_esg_metrics.py::test_esg_metrics_validates_fiscal_year_range PASSED [ 37%]
tests/models/test_esg_metrics.py::test_esg_metrics_immutable PASSED      [ 37%]
tests/models/test_esg_metrics.py::test_esg_metrics_validates_percentages PASSED [ 38%]
tests/models/test_esg_metrics.py::test_parquet_schema_defined PASSED     [ 38%]
tests/models/test_esg_metrics.py::test_from_parquet_dict_with_datetime_objects PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_basematcher_valid_theme PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_basematcher_invalid_theme_raises PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_basematcher_property_all_themes_valid PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_compile_patterns_success PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_compile_patterns_invalid_regex_raises PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_extract_context_window_basic PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_extract_context_window_at_start PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_extract_context_window_at_end PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_estimate_page_number_with_offsets PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_estimate_page_number_fallback_heuristic PASSED [ 38%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_estimate_page_number_property PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_check_negation_detects_no PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_check_negation_detects_not PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_check_negation_detects_without PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_check_negation_no_false_positives PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_matcher_repr PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_match_method_finds_patterns PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_match_method_returns_valid_matches PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_classify_evidence_type_basic PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_get_stage_indicator_valid PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_get_stage_indicator_invalid_raises PASSED [ 39%]
tests/parser/matchers/test_base_matcher.py::TestBaseMatcher::test_match_case_insensitive PASSED [ 39%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_ghg_matcher_initialization PASSED [ 39%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_scope_1_emissions PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_scope_2_emissions PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_scope_3_emissions PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_ghg_protocol_reference PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_limited_assurance PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_reasonable_assurance PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_assurance_provider_big4 PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_base_year PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_emissions_values_mtco2e PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_emissions_values_tco2e PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_case_insensitive PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_classify_evidence_type_scope_1 PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_classify_evidence_type_limited_assurance PASSED [ 40%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_classify_evidence_type_reasonable_assurance PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_scope_1_only PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_scope_1_2_complete PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_scope_1_2_3_comprehensive PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_limited_assurance PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_reasonable_assurance PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_ghg_protocol_compliance PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_indicator_invalid_type_raises PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_property_various_emission_values PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_no_false_positives_negation PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_multiple_scopes_in_text PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_returns_valid_match_objects PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_empty_text_returns_empty_list PASSED [ 41%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_match_no_ghg_content_returns_empty_list PASSED [ 42%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_ghg_matcher_repr PASSED [ 42%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_classify_all_evidence_types PASSED [ 42%]
tests/parser/matchers/test_ghg_matcher.py::TestGHGMatcher::test_get_stage_all_mappings PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extractor_initialization_default_ghg PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extractor_initialization_custom_matchers PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extract_from_html_returns_result PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extract_from_html_finds_ghg_evidence PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extract_from_html_evidence_has_required_fields PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extract_from_html_includes_metadata PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_extract_from_empty_html PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_match_to_evidence_generates_unique_ids PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_generate_snapshot_id_format PASSED [ 42%]
tests/parser/test_evidence_extractor.py::TestEvidenceExtractor::test_generate_snapshot_id_deterministic_within_second PASSED [ 43%]
tests/parser/test_evidence_extractor.py::TestBatchExtractor::test_batch_extractor_initialization PASSED [ 43%]
tests/parser/test_evidence_extractor.py::TestBatchExtractor::test_extract_batch_processes_multiple_filings PASSED [ 43%]
tests/parser/test_evidence_extractor.py::TestBatchExtractor::test_extract_batch_handles_failures_gracefully PASSED [ 43%]
tests/parser/test_evidence_extractor.py::TestBatchExtractor::test_extract_batch_empty_list PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_parser_initialization PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_parse_filing_extracts_text PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_clean_text_normalizes_whitespace PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_get_page_number_calculates_correctly PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_get_context_window_extracts_surrounding_text PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_extract_30_word_context_follows_spec PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_calculate_page_offsets_creates_mapping PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_parse_filing_handles_empty_html PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_parse_filing_handles_no_body_tag PASSED [ 43%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_get_context_window_at_document_start PASSED [ 44%]
tests/parser/test_html_parser.py::TestSECHTMLParser::test_get_context_window_at_document_end PASSED [ 44%]
tests/parser/test_html_parser.py::TestHTMLSection::test_html_section_creation PASSED [ 44%]
tests/parser/test_html_parser.py::TestHTMLSection::test_html_section_optional_fields PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_creation_valid PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_invalid_theme_raises PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_invalid_stage_raises PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_invalid_confidence_raises PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_invalid_span_raises PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_negative_page_raises PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_property_valid_values PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_create_hash_deterministic PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_generate_evidence_id_unique PASSED [ 44%]
tests/parser/test_models.py::TestEvidence::test_evidence_to_dict_roundtrip PASSED [ 45%]
tests/parser/test_models.py::TestEvidence::test_evidence_immutable PASSED [ 45%]
tests/parser/test_models.py::TestMatch::test_match_creation_valid PASSED [ 45%]
tests/parser/test_models.py::TestMatch::test_match_invalid_span_raises PASSED [ 45%]
tests/parser/test_models.py::TestMatch::test_match_negative_positions_raise PASSED [ 45%]
tests/parser/test_models.py::TestMatch::test_match_property_valid_spans PASSED [ 45%]
tests/parser/test_models.py::TestExtractionResult::test_extraction_result_creation PASSED [ 45%]
tests/parser/test_models.py::TestExtractionResult::test_extraction_result_empty_themes PASSED [ 45%]
tests/parser/test_models.py::TestExtractionResult::test_extraction_result_to_dict PASSED [ 45%]
tests/parser/test_models.py::TestExtractionResult::test_extraction_result_theme_count_logic PASSED [ 45%]
tests/parser/test_models.py::TestExtractionResult::test_evidence_invalid_year_below_range PASSED [ 45%]
tests/parser/test_models.py::TestExtractionResult::test_match_span_start_equals_span_end PASSED [ 45%]
tests/phase3/test_query_synthesizer_cp.py::test_query_synthesizer_module_exists PASSED [ 45%]
tests/phase3/test_query_synthesizer_cp.py::test_load_rubric_themes PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_expand_single_company_query PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_expand_multi_company_multi_theme PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_expanded_query_contains_metadata PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_deterministic_ordering PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_property_expansion_count PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_failure_empty_companies PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_failure_empty_themes PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_failure_invalid_theme PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_rubric_alignment PASSED  [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_company_query_empty_company_id PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_company_query_invalid_theme PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_expand_all_seven_themes PASSED [ 46%]
tests/phase3/test_query_synthesizer_cp.py::test_query_synthesizer_class_initialization PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_synthesize_climate PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_with_explicit_theme PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_empty_query PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_multi_company_query_with_whitespace_company PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_load_rubric_themes_missing_file PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_auto_extract_companies PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_no_companies_found PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_default_theme PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_invalid_company_format PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_expand_query_invalid_theme_in_list PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_expand_multi_company_method PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_expand_multi_company_empty PASSED [ 47%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_expand_multi_company_whitespace PASSED [ 48%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_extract_theme_returns_empty PASSED [ 48%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_invalid_theme_explicit PASSED [ 48%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_empty_companies_explicit PASSED [ 48%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_generic_exception_handling PASSED [ 48%]
tests/phase3/test_query_synthesizer_cp.py::test_legacy_query_synthesizer_query_length_validation PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverInitialization::test_init_valid_credentials PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverInitialization::test_init_invalid_endpoint PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverInitialization::test_init_invalid_token PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverInitialization::test_init_empty_keyspace PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverSearch::test_search_empty_query PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverSearch::test_search_invalid_top_k PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverSearch::test_search_no_embedder PASSED [ 48%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverSearch::test_search_valid_query PASSED [ 49%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverLineage::test_manifest_generation PASSED [ 49%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverLineage::test_manifest_skipped_no_retrievals PASSED [ 49%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverIntegration::test_retriever_collection_name_customizable PASSED [ 49%]
tests/phase5/test_semantic_retriever.py::TestSemanticRetrieverIntegration::test_retriever_state_isolation PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterBasics::test_prefilter_returns_ids PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterBasics::test_prefilter_respects_limit PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterBasics::test_prefilter_by_company PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterDeterminism::test_same_filters_same_results PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterDeterminism::test_ordering_deterministic PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestStrictMode::test_strict_requires_enriched_parquet PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterIntegration::test_prefilter_empty_result PASSED [ 49%]
tests/phase5b/test_hybrid_with_prefilter.py::TestPrefilterIntegration::test_prefilter_with_multiple_filters PASSED [ 49%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderRankerBasics::test_init_with_seed PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderRankerBasics::test_score_basic PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderRankerBasics::test_rank_basic PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderDeterminism::test_same_seed_same_scores PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderDeterminism::test_rank_determinism PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderDeterminism::test_score_determinism_property PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderFailurePaths::test_rank_with_empty_texts PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderFailurePaths::test_score_with_empty_texts PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderFailurePaths::test_rank_with_invalid_k PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingBasics::test_hybrid_rank_basic PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingBasics::test_hybrid_rank_respects_k PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingBasics::test_hybrid_rank_alpha_weighting PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingDeterminism::test_hybrid_rank_deterministic PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingDeterminism::test_hybrid_rank_weight_property PASSED [ 50%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingFailurePaths::test_hybrid_rank_invalid_k PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingFailurePaths::test_hybrid_rank_empty_candidates PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingFailurePaths::test_hybrid_rank_invalid_weight PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_init_with_non_int_seed PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_init_with_negative_seed PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_score_with_non_string_query PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_score_with_non_list_texts PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_score_with_non_string_text_in_list PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_rank_with_non_string_query PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_rank_with_non_list_texts PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_rank_with_non_int_k PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_rank_with_negative_k PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestCrossEncoderAdditionalCoverage::test_fit_with_mismatched_lengths PASSED [ 51%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_dict_weights PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_missing_lex_in_weights PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_numeric_alpha PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_alpha_out_of_range PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_invalid_candidate_format PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_string_text PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_dict_metadata PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_missing_lex_in_metadata PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_missing_doc_id_in_metadata PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_numeric_lex_score PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_int_doc_id PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_invalid_doc_id_type PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_none_model PASSED [ 52%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_negative_k PASSED [ 53%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_int_query PASSED [ 53%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_list_candidates PASSED [ 53%]
tests/phase5c/test_hybrid_ranking_cp.py::TestHybridRankingAdditionalCoverage::test_hybrid_rank_with_non_int_k_type PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestHybridWithTFIDF::test_hybrid_tfidf_basic PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestHybridWithTFIDF::test_hybrid_tfidf_deterministic PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestHybridWithBM25::test_hybrid_bm25_basic PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestHybridWithBM25::test_hybrid_bm25_deterministic PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestAlphaSweep::test_alpha_extremes PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestAlphaSweep::test_alpha_middle PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestAlphaSweep::test_alpha_property_valid_range PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestTieBreakingStability::test_hybrid_tie_break_stability PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestTieBreakingStability::test_hybrid_doc_id_tie_breaker PASSED [ 53%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestPrefilterIntegration::test_prefilter_lexical_pipeline SKIPPED [ 54%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestPrefilterIntegration::test_strict_mode_missing_parquet PASSED [ 54%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestCompareScorerOutputs::test_tfidf_vs_bm25_correlation PASSED [ 54%]
tests/phase5d/test_hybrid_with_real_lexical_cp.py::TestCompareScorerOutputs::test_bm25_better_than_tfidf_for_term_frequency PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTokenization::test_tokenize_basic PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTokenization::test_tokenize_deterministic PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTokenization::test_tokenize_empty PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTokenization::test_tokenize_unicode PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFScorerBasics::test_tfidf_init PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFScorerBasics::test_tfidf_fit_basic PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFScorerBasics::test_tfidf_score_basic PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFScorerBasics::test_tfidf_rank_basic PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFDeterminism::test_tfidf_determinism_basic PASSED [ 54%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFDeterminism::test_tfidf_vocab_order_deterministic PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFDeterminism::test_tfidf_property_determinism PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFFailurePaths::test_tfidf_score_without_fit PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestTFIDFFailurePaths::test_tfidf_fit_empty_corpus PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25ScorerBasics::test_bm25_init_default PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25ScorerBasics::test_bm25_init_custom_params PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25ScorerBasics::test_bm25_fit_basic PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25ScorerBasics::test_bm25_score_basic PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25ScorerBasics::test_bm25_params_and_bounds PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25ScorerBasics::test_bm25_length_normalization PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25Determinism::test_bm25_determinism_basic PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25Determinism::test_bm25_rank_deterministic PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25Determinism::test_bm25_property_determinism PASSED [ 55%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25Properties::test_bm25_monotonicity_docs_addition PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25Properties::test_bm25_term_frequency_effect PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25FailurePaths::test_fail_invalid_bm25_params_k1 PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25FailurePaths::test_fail_invalid_bm25_params_b_negative PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25FailurePaths::test_fail_invalid_bm25_params_b_too_large PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25FailurePaths::test_bm25_score_without_fit PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestBM25FailurePaths::test_bm25_fit_empty_corpus PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestThreeRunDeterminism::test_tfidf_three_run_determinism PASSED [ 56%]
tests/phase5d/test_lexical_scorers_cp.py::TestThreeRunDeterminism::test_bm25_three_run_determinism PASSED [ 56%]
tests/phase6b/test_e2e_pipeline_cp.py::TestRetrievalDeterminism::test_retrieval_strict_mode_missing_parquet PASSED [ 56%]
tests/phase6b/test_e2e_pipeline_cp.py::TestRankingParity::test_ranking_determinism_three_runs PASSED [ 56%]
tests/phase6b/test_e2e_pipeline_cp.py::TestRankingParity::test_ranking_parity_with_evidence_topk PASSED [ 56%]
tests/phase6b/test_e2e_pipeline_cp.py::TestRubricIntegration::test_rubric_seven_dimensions_present PASSED [ 56%]
tests/phase6b/test_e2e_pipeline_cp.py::TestRubricIntegration::test_evidence_alignment_per_theme SKIPPED [ 56%]
tests/pipeline/test_embed_index_cli_cp.py::TestIngestCLI::test_ingest_pdf_creates_parquet_and_companies_json XFAIL [ 57%]
tests/pipeline/test_embed_index_cli_cp.py::TestIngestCLI::test_ingest_missing_pdf_exits_with_error XFAIL [ 57%]
tests/pipeline/test_embed_index_cli_cp.py::TestIngestCLI::test_ingest_invalid_year_exits_with_error XFAIL [ 57%]
tests/pipeline/test_embed_index_cli_cp.py::TestEmbedIndexCLI::test_embed_creates_index_snapshot XFAIL [ 57%]
tests/pipeline/test_embed_index_cli_cp.py::TestEmbedIndexCLI::test_embed_deterministic_produces_identical_output XPASS [ 57%]
tests/pipeline/test_embed_index_cli_cp.py::TestEmbedIndexCLI::test_embed_invalid_alpha_exits_with_error XFAIL [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_cache_manager_initialization PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_missing PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_complete PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_multiple_records PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_different_companies PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_different_years PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_partial_status PASSED [ 57%]
tests/query/test_cache_manager.py::TestCacheManager::test_check_cache_last_updated_timestamp PASSED [ 58%]
tests/query/test_cache_manager.py::TestCacheResult::test_cache_result_creation PASSED [ 58%]
tests/query/test_cache_manager.py::TestCacheResult::test_cache_result_missing PASSED [ 58%]
tests/query/test_cache_manager.py::TestCacheStatus::test_cache_status_values PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_orchestrator_initialization PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_ensure_data_available_cache_hit PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_ensure_data_available_cache_miss_with_cached_filing PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_ensure_data_available_fetches_from_sec_edgar SKIPPED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_ingestion_job_tracks_progress PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_ingestion_handles_errors_gracefully PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_orchestrator_normalizes_to_silver PASSED [ 58%]
tests/query/test_orchestrator.py::TestQueryOrchestrator::test_concurrent_ingestion_jobs PASSED [ 58%]
tests/query/test_orchestrator.py::TestIngestionJob::test_ingestion_job_creation PASSED [ 58%]
tests/query/test_orchestrator.py::TestIngestionStatus::test_ingestion_status_values PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_simple_scope_1_query PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_scope_2_query PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_scope_3_query PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_target_query PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_assurance_query PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_company_full_name PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_company_variations PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_year_variations PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_question_type_scope_12 PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_question_type_scope_123 PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_ambiguous_query_defaults_to_general PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_query_missing_company PASSED [ 59%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_query_missing_year_allowed PASSED [ 60%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_query_with_metadata PASSED [ 60%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_handles_typos_gracefully PASSED [ 60%]
tests/query/test_query_parser.py::TestQueryParser::test_parse_case_insensitive PASSED [ 60%]
tests/query/test_query_parser.py::TestQueryIntent::test_query_intent_creation PASSED [ 60%]
tests/query/test_query_parser.py::TestQueryIntent::test_query_intent_optional_year PASSED [ 60%]
tests/query/test_query_parser.py::TestQuestionType::test_question_type_values PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_company_extraction_invariant PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_theme_extraction_invariant PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_template_generation_invariant PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_empty_query_fails PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_no_companies_fails PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_invalid_theme_fails PASSED [ 60%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_apple_exxonmobil_comparison PASSED [ 61%]
tests/query/test_query_synthesizer.py::test_query_synthesizer_three_company_comparison PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_init_negative_seed_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_init_non_integer_seed_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_fit_mismatched_pairs_labels_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_fit_none_pairs_and_labels_succeeds PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_non_string_query_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_non_list_texts_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_empty_texts_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_non_string_element_in_texts_raises_error PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_empty_query_string PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_empty_text_string PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_determinism_across_multiple_calls PASSED [ 61%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_non_string_query_raises_error PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_non_list_texts_raises_error PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_empty_texts_raises_error PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_non_integer_k_raises_error PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_negative_k_raises_error PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_k_zero_returns_empty PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_k_none_returns_all PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_k_exceeds_length_returns_all PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_tie_breaking_determinism PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_rank_descending_score_order PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_property_score_range_bounds PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_property_rank_length_bounded_by_k PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_fit_method_chaining PASSED [ 62%]
tests/ranking/test_cross_encoder_edge_cases_cp.py::TestCrossEncoderEdgeCases::test_score_identical_query_and_text PASSED [ 62%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_output_invariant PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_score_normalization_invariant PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_top_k_invariant PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_empty_query_fails PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_empty_documents_fails PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_model_loading_fails PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_batch_scoring PASSED [ 63%]
tests/ranking/test_cross_encoder_ranker.py::test_cross_encoder_ranker_top_k_selection PASSED [ 63%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_initialization PASSED [ 63%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_invalid_model_name_fails PASSED [ 63%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_negative_seed_fails PASSED [ 63%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_single_query_batch_scoring PASSED [ 63%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_determinism_across_runs PASSED [ 63%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_rank_top_k PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_empty_query_fails PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_empty_documents_fails PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_non_string_query_fails PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_non_list_documents_fails PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_latency_benchmark PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_f1_vs_baseline PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_score_range_property PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_rank_length_property PASSED [ 64%]
tests/ranking/test_real_cross_encoder_cp.py::test_real_cross_encoder_esg_corpus_integration PASSED [ 64%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_alpha_0_pure_semantic PASSED [ 64%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_alpha_1_pure_lexical PASSED [ 64%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_alpha_06_default PASSED [ 64%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_missing_ids_filled_with_zero PASSED [ 65%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_invalid_alpha_raises_error PASSED [ 65%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_stable_ordering_by_score_then_id PASSED [ 65%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_fusion_determinism_three_runs PASSED [ 65%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticFusion::test_property_alpha_in_range_produces_valid_fusion PASSED [ 65%]
tests/retrieval/test_hybrid_semantic_cp.py::TestHybridSemanticParity::test_fused_top5_includes_evidence_docs PASSED [ 65%]
tests/retrieval/test_parity_invariant_cp.py::TestParityInvariant::test_evidence_subset_of_top5_demo_fixture XPASS [ 65%]
tests/retrieval/test_parity_invariant_cp.py::TestParityInvariant::test_parity_break_increments_metric XFAIL [ 65%]
tests/retrieval/test_parity_invariant_cp.py::TestParityInvariant::test_load_parity_validation_artifact XFAIL [ 65%]
tests/retrieval/test_parity_invariant_cp.py::TestAlphaFusionProperties::test_alpha_in_valid_range PASSED [ 65%]
tests/retrieval/test_parity_invariant_cp.py::TestAlphaFusionProperties::test_property_alpha_bounds_produces_valid_scores PASSED [ 65%]
tests/retrieval/test_parity_invariant_cp.py::TestAlphaFusionProperties::test_property_alpha_monotonicity PASSED [ 65%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retriever_initialization PASSED [ 65%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_scope_1_evidence PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_filters_by_company PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_ranks_by_confidence PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_applies_confidence_threshold PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_returns_empty_for_missing_data PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_includes_metadata PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_limits_results PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestParquetRetriever::test_retrieve_includes_evidence_details PASSED [ 66%]
tests/retrieval/test_parquet_retriever.py::TestRetrievalResult::test_retrieval_result_creation PASSED [ 66%]
tests/retrieval/test_vector_index_cp.py::TestDeterministicEmbedder::test_single_text_embedding_deterministic PASSED [ 66%]
tests/retrieval/test_vector_index_cp.py::TestDeterministicEmbedder::test_batch_embedding_deterministic PASSED [ 66%]
tests/retrieval/test_vector_index_cp.py::TestDeterministicEmbedder::test_embedding_normalized PASSED [ 66%]
tests/retrieval/test_vector_index_cp.py::TestDeterministicEmbedder::test_empty_text_embedding PASSED [ 66%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndex::test_index_build_and_knn PASSED [ 67%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndex::test_knn_stable_ordering PASSED [ 67%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndex::test_knn_empty_index_returns_empty PASSED [ 67%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndex::test_knn_k_zero_returns_empty PASSED [ 67%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndex::test_knn_dimension_mismatch_raises_error PASSED [ 67%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndex::test_property_cosine_invariant_under_positive_scaling PASSED [ 67%]
tests/retrieval/test_vector_index_cp.py::TestVectorIndexMetadata::test_knn_with_where_filter PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestWatsonxEmbedderInterface::test_watsonx_embedder_matches_deterministic_interface PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestWatsonxEmbedderInterface::test_watsonx_embedder_requires_config PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestWatsonxEmbedderInterface::test_watsonx_embedder_network_guard_prevents_call_in_tests PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestWatsonxEmbedderInterface::test_watsonx_embedder_returns_numpy_array_type PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestWatsonxEmbedderConfig::test_config_from_dict PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestWatsonxEmbedderConfig::test_invalid_endpoint_url_raises_error PASSED [ 67%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAstraDBAdapterInterface::test_astradb_store_requires_config PASSED [ 68%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAstraDBAdapterInterface::test_astradb_store_network_guard_prevents_call_in_tests PASSED [ 68%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAstraDBAdapterInterface::test_astradb_store_matches_vector_index_interface PASSED [ 68%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAdapterFactoryPattern::test_get_embedder_returns_deterministic_when_watsonx_disabled PASSED [ 68%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAdapterFactoryPattern::test_get_embedder_returns_watsonx_when_enabled PASSED [ 68%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAdapterFactoryPattern::test_get_vector_backend_returns_in_memory_when_astradb_disabled PASSED [ 68%]
tests/retrieval/test_watsonx_adapter_types_cp.py::TestAdapterFactoryPattern::test_get_vector_backend_returns_astradb_when_enabled PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestRubricSchemaStructure::test_schema_has_version PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestRubricSchemaStructure::test_schema_has_themes_list PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestRubricSchemaStructure::test_schema_has_scoring_rules PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestThemeCount::test_exactly_seven_themes PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestThemeCount::test_all_expected_theme_codes_present PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestThemeCount::test_no_duplicate_theme_codes PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestThemeStages::test_each_theme_has_stages_field PASSED [ 68%]
tests/schema/test_rubric_schema_v3.py::TestThemeStages::test_each_theme_has_five_stages PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestThemeStages::test_all_stages_have_description PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestScoringRules::test_evidence_min_per_stage_claim_exists PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestScoringRules::test_evidence_min_is_positive_integer PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestThemeMetadata::test_each_theme_has_code PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestThemeMetadata::test_each_theme_has_name PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestSchemaLoadability::test_loader_can_import PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestSchemaLoadability::test_loader_can_load_schema PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestSchemaLoadability::test_loaded_rubric_has_correct_theme_codes PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestEvidenceGateIntegration::test_evidence_gate_can_import PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestEvidenceGateIntegration::test_enforce_evidence_min_function_exists PASSED [ 69%]
tests/schema/test_rubric_schema_v3.py::TestEvidenceGateIntegration::test_evidence_gate_nullifies_insufficient_evidence PASSED [ 69%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_posterior_bounds_invariant PASSED [ 69%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_credible_interval_invariant PASSED [ 70%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_theme_validity_invariant PASSED [ 70%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_empty_scores_fails PASSED [ 70%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_invalid_theme_fails PASSED [ 70%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_invalid_score_range_fails PASSED [ 70%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_posterior_convergence PASSED [ 70%]
tests/scoring/test_bayesian_confidence.py::test_bayesian_confidence_credible_interval_95_percent PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherBasic::test_create_matcher PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherBasic::test_match_evidence_returns_result PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherBasic::test_match_returns_highest_similarity PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherBasic::test_match_validation_empty_evidence PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherBasic::test_match_validation_invalid_theme PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherBasic::test_cosine_similarity_calculation PASSED [ 70%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherIntegration::test_match_realistic_evidence_high_stage PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherIntegration::test_match_realistic_evidence_low_stage PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherIntegration::test_batch_match_multiple_evidence PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherPerformance::test_match_performance_property PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherPerformance::test_match_caches_characteristic_embeddings PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherPerformance::test_clear_cache_operation PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestCharacteristicMatcherPerformance::test_get_cache_size PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestMatchResult::test_match_result_creation PASSED [ 71%]
tests/scoring/test_characteristic_matcher.py::TestMatchResult::test_match_result_validation_invalid_score PASSED [ 71%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceRowModel::test_create_evidence_row PASSED [ 71%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceRowModel::test_evidence_row_validation_priority_range PASSED [ 71%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceRowModel::test_evidence_row_validation_stage_range PASSED [ 71%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceRowModel::test_evidence_row_truncates_long_extract PASSED [ 71%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorBasic::test_create_generator PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorBasic::test_generate_table_returns_list PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorBasic::test_generate_table_prioritizes_by_similarity PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorBasic::test_generate_table_limits_to_10_rows PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorIntegration::test_generate_realistic_evidence_table PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorIntegration::test_evidence_table_diversity_across_stages PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableGeneratorIntegration::test_priority_score_calculation PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableStandaloneFunction::test_standalone_function_generates_table PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableStandaloneFunction::test_evidence_table_property PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableValidation::test_generate_table_validation_empty_evidence PASSED [ 72%]
tests/scoring/test_evidence_table_generator.py::TestEvidenceTableValidation::test_generate_table_validation_invalid_max_rows PASSED [ 72%]
tests/scoring/test_rubric_models.py::TestStageCharacteristic::test_create_stage_characteristic PASSED [ 72%]
tests/scoring/test_rubric_models.py::TestStageCharacteristic::test_stage_characteristic_validation_invalid_stage PASSED [ 72%]
tests/scoring/test_rubric_models.py::TestStageCharacteristic::test_stage_characteristic_validation_empty_theme PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestStageCharacteristic::test_stage_characteristic_property PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestThemeRubric::test_create_theme_rubric PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestThemeRubric::test_theme_rubric_get_stage_characteristics PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestThemeRubric::test_theme_rubric_get_all_characteristics PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestThemeRubric::test_theme_rubric_validation_missing_stages PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestThemeRubric::test_theme_rubric_property PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestMaturityRubric::test_create_maturity_rubric PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestMaturityRubric::test_maturity_rubric_get_theme PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestMaturityRubric::test_maturity_rubric_get_theme_not_found PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestMaturityRubric::test_maturity_rubric_get_theme_characteristics PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestMaturityRubric::test_maturity_rubric_validation_empty_themes PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestMaturityRubric::test_maturity_rubric_property PASSED [ 73%]
tests/scoring/test_rubric_models.py::TestRubricSerialization::test_stage_characteristic_to_dict PASSED [ 74%]
tests/scoring/test_rubric_models.py::TestRubricSerialization::test_stage_characteristic_from_dict PASSED [ 74%]
tests/scoring/test_rubric_models.py::TestRubricSerialization::test_maturity_rubric_to_json PASSED [ 74%]
tests/scoring/test_rubric_models.py::TestRubricSerialization::test_maturity_rubric_from_json PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_tsp_stage_4_sbti_validated PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_tsp_stage_3_sbti_pending PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_tsp_stage_2_time_bound_targets PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_tsp_stage_1_qualitative_plan PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_tsp_stage_0_no_targets PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_osp_stage_4_internal_audit PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_osp_stage_0_no_governance PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_dm_stage_4_automated_pipelines PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_dm_stage_0_no_data_governance PASSED [ 74%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_ghg_stage_4_third_party_assurance PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_ghg_stage_0_no_emissions_accounting PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_rd_stage_4_external_assurance PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_rd_stage_0_no_formal_reporting PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_ei_stage_4_ai_forecasting PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_ei_stage_0_no_tracking PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_rmm_stage_4_enterprise_risk_integrated PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_rmm_stage_0_no_risk_framework PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_score_all_dimensions_complete PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_empty_text_returns_stage_0 PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_missing_finding_text_key PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_determinism_same_text_same_score PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_property_score_range_0_to_4 PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_property_confidence_range_0_to_1 PASSED [ 75%]
tests/scoring/test_rubric_v3_stage_transitions_cp.py::TestRubricV3StageTransitions::test_case_insensitive_pattern_matching PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_writer_initialization PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_evidence_schema_matches_rubric PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_evidence_schema_types PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_write_single_evidence FAILED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_write_evidence_batch FAILED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_hive_partitioning_structure PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_s3_uri_generation PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_validate_theme_constraint PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_invalid_theme_raises_error PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_invalid_stage_raises_error PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_invalid_confidence_raises_error PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_invalid_span_raises_error PASSED [ 76%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_write_includes_timestamp_and_ingestion_id FAILED [ 77%]
tests/storage/test_bronze_writer.py::TestBronzeEvidenceWriter::test_append_mode_preserves_existing_data FAILED [ 77%]
tests/storage/test_bronze_writer.py::TestEvidenceConstraintValidation::test_valid_evidence_passes_constraints PASSED [ 77%]
tests/storage/test_bronze_writer.py::TestEvidenceConstraintValidation::test_invalid_confidence_always_fails PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_duckdb_manager_initialization PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_create_bronze_view PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_bronze_view_reads_all_partitions PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_query_evidence_by_org_theme PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_partition_pruning PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_context_manager_connection_handling PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_query_with_confidence_filter PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_query_with_stage_aggregation PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_schema_validation PASSED [ 77%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_query_by_snapshot_id PASSED [ 78%]
tests/storage/test_duckdb_manager.py::TestDuckDBManager::test_empty_parquet_directory_creates_empty_view PASSED [ 78%]
tests/storage/test_duckdb_manager.py::TestDuckDBQueryHelpers::test_query_evidence_by_org_theme_returns_list_of_dicts PASSED [ 78%]
tests/storage/test_duckdb_manager.py::TestDuckDBQueryHelpers::test_query_with_nonexistent_org_returns_empty PASSED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_normalizer_initialization PASSED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_deduplication_keeps_highest_confidence FAILED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_deduplication_uses_recency_as_tiebreaker FAILED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_freshness_penalty_calculation PASSED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_adjusted_confidence_calculation PASSED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_is_most_recent_flag_updates FAILED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_superseded_by_linkage PASSED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_idempotency_running_twice_same_result FAILED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_null_hash_handled_gracefully PASSED [ 78%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_normalize_preserves_all_fields FAILED [ 79%]
tests/storage/test_silver_normalizer.py::TestSilverNormalizer::test_normalize_handles_empty_bronze PASSED [ 79%]
tests/storage/test_silver_normalizer.py::TestFreshnessPenaltyCalculation::test_fresh_evidence_no_penalty PASSED [ 79%]
tests/storage/test_silver_normalizer.py::TestFreshnessPenaltyCalculation::test_24_month_boundary PASSED [ 79%]
tests/storage/test_silver_normalizer.py::TestFreshnessPenaltyCalculation::test_36_month_boundary PASSED [ 79%]
tests/storage/test_silver_normalizer.py::TestFreshnessPenaltyCalculation::test_48_month_boundary PASSED [ 79%]
tests/storage/test_silver_normalizer.py::TestFreshnessPenaltyCalculation::test_very_old_evidence_max_penalty PASSED [ 79%]
tests/storage/test_silver_normalizer.py::TestDeduplicationFunction::test_deduplicate_by_confidence_then_timestamp PASSED [ 79%]
tests/test_authenticity_audit.py::TestNetworkImportsDetector::test_detects_requests_import PASSED [ 79%]
tests/test_authenticity_audit.py::TestNetworkImportsDetector::test_detects_httpx_import PASSED [ 79%]
tests/test_authenticity_audit.py::TestNetworkImportsDetector::test_detects_urllib_import PASSED [ 79%]
tests/test_authenticity_audit.py::TestNetworkImportsDetector::test_detects_boto3_import PASSED [ 79%]
tests/test_authenticity_audit.py::TestNetworkImportsDetector::test_exempts_test_files FAILED [ 79%]
tests/test_authenticity_audit.py::TestUnseededRandomDetector::test_detects_random_choice FAILED [ 80%]
tests/test_authenticity_audit.py::TestUnseededRandomDetector::test_detects_random_randint FAILED [ 80%]
tests/test_authenticity_audit.py::TestUnseededRandomDetector::test_detects_numpy_random FAILED [ 80%]
tests/test_authenticity_audit.py::TestUnseededRandomDetector::test_detects_numpy_shuffle FAILED [ 80%]
tests/test_authenticity_audit.py::TestUnseededRandomDetector::test_ignores_commented_random PASSED [ 80%]
tests/test_authenticity_audit.py::TestNondeterministicTimeDetector::test_detects_datetime_now FAILED [ 80%]
tests/test_authenticity_audit.py::TestNondeterministicTimeDetector::test_allows_time_time_for_metrics PASSED [ 80%]
tests/test_authenticity_audit.py::TestNondeterministicTimeDetector::test_ignores_test_files PASSED [ 80%]
tests/test_authenticity_audit.py::TestJsonAsParquetDetector::test_detects_to_json_in_artifact_code PASSED [ 80%]
tests/test_authenticity_audit.py::TestJsonAsParquetDetector::test_ignores_legitimate_json PASSED [ 80%]
tests/test_authenticity_audit.py::TestWorkspaceEscapeDetector::test_detects_parent_directory_traversal PASSED [ 80%]
tests/test_authenticity_audit.py::TestWorkspaceEscapeDetector::test_detects_path_traversal PASSED [ 80%]
tests/test_authenticity_audit.py::TestSilentExceptionDetector::test_detects_bare_except_pass PASSED [ 80%]
tests/test_authenticity_audit.py::TestSilentExceptionDetector::test_allows_except_with_logging PASSED [ 81%]
tests/test_authenticity_audit.py::TestEvalExecDetector::test_detects_eval PASSED [ 81%]
tests/test_authenticity_audit.py::TestEvalExecDetector::test_detects_exec PASSED [ 81%]
tests/test_authenticity_audit.py::TestNondeterministicOrderingDetector::test_detects_unordered_dict_iteration FAILED [ 81%]
tests/test_authenticity_audit.py::TestNondeterministicOrderingDetector::test_allows_sorted_iteration PASSED [ 81%]
tests/test_authenticity_audit.py::TestDeterminismHasher::test_hash_consistency PASSED [ 81%]
tests/test_authenticity_audit.py::TestDeterminismHasher::test_hash_differs_on_change PASSED [ 81%]
tests/test_authenticity_audit.py::TestAuditIntegration::test_run_all_detectors PASSED [ 81%]
tests/test_authenticity_audit.py::TestAuditIntegration::test_json_report_generation PASSED [ 81%]
tests/test_authenticity_audit.py::TestAuditIntegration::test_markdown_report_generation PASSED [ 81%]
tests/test_authenticity_audit.py::TestAuditIntegration::test_guard_path_prevents_escape PASSED [ 81%]
tests/test_authenticity_audit.py::TestViolationDataclass::test_violation_creation PASSED [ 81%]
tests/test_authenticity_audit.py::TestViolationDataclass::test_violation_with_exemption PASSED [ 81%]
tests/test_compile_rubric.py::test_compiler_inputs_exist PASSED          [ 81%]
tests/test_compile_rubric.py::test_compiler_executes_successfully PASSED [ 82%]
tests/test_compile_rubric.py::test_json_validates_against_schema PASSED  [ 82%]
tests/test_compile_rubric.py::test_determinism_byte_identical PASSED     [ 82%]
tests/test_compile_rubric.py::test_manifest_contains_determinism_metadata PASSED [ 82%]
tests/test_compile_rubric.py::test_all_themes_have_intent PASSED         [ 82%]
tests/test_compile_rubric.py::test_scoring_rules_present PASSED          [ 82%]
tests/test_compile_rubric.py::test_compiler_fails_on_missing_md PASSED   [ 82%]
tests/test_compile_rubric.py::test_compiler_fails_on_missing_schema PASSED [ 82%]
tests/test_crawler_agent.py::test_crawler_agent_initialization PASSED    [ 82%]
tests/test_crawler_agent.py::test_crawler_agent_tool_schemas PASSED      [ 82%]
tests/test_crawler_agent.py::test_pdf_extractor_initialization PASSED    [ 82%]
tests/test_crawler_agent.py::test_pdf_extractor_basic_extraction PASSED  [ 82%]
tests/test_crawler_agent.py::test_pdf_extractor_page_count PASSED        [ 82%]
tests/test_crawler_agent.py::test_pdf_extractor_sha256_generation PASSED [ 83%]
tests/test_crawler_agent.py::test_pdf_extractor_idempotency PASSED       [ 83%]
tests/test_crawler_agent.py::test_parquet_writer_initialization PASSED   [ 83%]
tests/test_crawler_agent.py::test_parquet_writer_schema_validation PASSED [ 83%]
tests/test_crawler_agent.py::test_parquet_writer_invalid_schema PASSED   [ 83%]
tests/test_crawler_agent.py::test_parquet_writer_path_generation PASSED  [ 83%]
tests/test_crawler_agent.py::test_parquet_writer_org_id_validation PASSED [ 83%]
tests/test_crawler_agent.py::test_parquet_writer_atomic_write FAILED     [ 83%]
tests/test_crawler_agent.py::test_crawler_end_to_end_flow FAILED         [ 83%]
tests/test_crawler_agent.py::test_crawler_deduplication PASSED           [ 83%]
tests/test_datetime_remediation.py::TestDatetimeOverridePatterns::test_audit_time_environment_override PASSED [ 83%]
tests/test_datetime_remediation.py::TestDatetimeOverridePatterns::test_datetime_override_fallback PASSED [ 83%]
tests/test_datetime_remediation.py::TestDatetimeOverridePatterns::test_audit_time_property_based PASSED [ 83%]
tests/test_datetime_remediation.py::TestDatetimeOverridePatterns::test_datetime_determinism_with_override PASSED [ 84%]
tests/test_datetime_remediation.py::TestDatetimeOverridePatterns::test_failure_without_override_non_deterministic PASSED [ 84%]
tests/test_datetime_remediation.py::TestTimestampGeneration::test_isoformat_timestamp PASSED [ 84%]
tests/test_datetime_remediation.py::TestTimestampGeneration::test_filename_timestamp PASSED [ 84%]
tests/test_datetime_remediation.py::TestTimestampGeneration::test_timestamp_in_metadata PASSED [ 84%]
tests/test_datetime_remediation.py::TestRemainingExceptionLogging::test_sasb_provider_exception_logging PASSED [ 84%]
tests/test_datetime_remediation.py::TestRemainingExceptionLogging::test_ingest_import_error_logging PASSED [ 84%]
tests/test_datetime_remediation.py::TestRemainingExceptionLogging::test_embed_exception_handling PASSED [ 84%]
tests/test_datetime_remediation.py::TestRemainingExceptionLogging::test_astradb_loader_exception PASSED [ 84%]
tests/test_datetime_remediation.py::TestRemainingExceptionLogging::test_exception_types_logged PASSED [ 84%]
tests/test_datetime_remediation.py::TestDatetimeIntegration::test_multiple_datetime_calls_deterministic PASSED [ 84%]
tests/test_datetime_remediation.py::TestDatetimeIntegration::test_datetime_in_hash PASSED [ 84%]
tests/test_datetime_remediation.py::TestDatetimeIntegration::test_failure_without_override_hashes_differ PASSED [ 84%]
tests/test_datetime_remediation.py::TestCombinedExceptionAndDateTime::test_exception_with_timestamp PASSED [ 85%]
tests/test_datetime_remediation.py::TestCombinedExceptionAndDateTime::test_deterministic_error_context PASSED [ 85%]
tests/test_enhanced_extraction_cp.py::test_extraction_coverage_minimum_5_per_page 